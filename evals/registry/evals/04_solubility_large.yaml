solubility_large:
  id: solubility_large.val.csv
  metrics: [accuracy]
solubility_large.val.csv:
  class: evals.elsuite.rag_table_extract:TableExtract
  args:
    samples_jsonl: 04_solubility_large/solute.jsonl
    instructions: |
      You need to follow these steps to extract tables from the paper:
      1. Find all tables containing the word "solubility".
      2. Generate a list of the number of salts and solutions in each of these tables.
      3. Select the only one table with most kinds of salts and solvents.
      4. Find all column headers of this table. Make sure that the first two columns of tables are always "Compound"(Compound means salt or solute) and "Solvent".
      5. Output the whole table in csv format and satisfy these requirements:
        (1) Do not truncate tables using "...". Always output the complete tables.
        (2) Always quote the headers and values if they contain commas.
        (3) Keep all the superscripts in the form like "^3", "^+" or "^a".
        (4) Always leave the blank cells empty.
        (5) Use "x" to replace all "×", use "()" to replace all "（）".
        (6) Always add space before and after operators like " ± ".
        (7) Do not add "unnamed" columns.
        Remember, the table format should be correct. Here is an example, the original table is:
        ```csv
        Table 1 heat of solvation (kcal/mol),,
        "t/°C, based on experiment",NaCl,
        ,DMF,PC^b
        25,101.5,83.6
        15,100.2,
        ,CaSO4^a,
        ,DMF,PC^b
        25,99.1,50.6
        15,138.9,62.4
        ```
        It should be converted to:
        ```csv
        Compound,Solvent,heat of solvation (kcal/mol),"t/°C, based on experiment"
        NaCl,DMF,101.5,25
        NaCl,DMF,100.2,15
        NaCl,PC^b,83.6,25
        NaCl,PC^b,,15
        CaSO4^a,DMF,99.1,25
        CaSO4^a,DMF,138.9,15
        CaSO4^a,PC^b,50.6,25
        CaSO4^a,PC^b,62.4,15
        ```
      6. If you cannot find any tables containing the word "solubility", then you should find tables related to the word "solubility" and restart the steps.